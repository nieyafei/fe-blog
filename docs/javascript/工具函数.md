# å·¥å…·å‡½æ•°

## æ£€æµ‹ç§»åŠ¨/PCè®¾å¤‡

```js
const detectDeviceType = () =>
  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    ? 'Mobile'
    : 'Desktop';
```

## è¿”å›å½“å‰24å°æ—¶åˆ¶æ—¶é—´çš„å­—ç¬¦ä¸²

```js
const getColonTimeFromDate = date => date.toTimeString().slice(0, 8); // 10:58:04 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) æˆªå–

getColonTimeFromDate(new Date()); // "10:57:44"
```

## è¿”å›æ—¥æœŸé—´çš„å¤©æ•°

```js
const getDaysDiffBetweenDates = (dateInitial, dateFinal) =>
  (dateFinal - dateInitial) / (1000 * 3600 * 24);
  
getDaysDiffBetweenDates(new Date('2019-01-01'), new Date('2019-10-14')); // 286
```

## å¹³æ»‘æ»šåŠ¨è‡³é¡¶éƒ¨

```js
const scrollToTop = () => {
  const c = document.documentElement.scrollTop || document.body.scrollTop;
  if (c > 0) {
    window.requestAnimationFrame(scrollToTop);
    window.scrollTo(0, c - c / 8);
  }
};

scrollToTop();
```

## æ»šåŠ¨åˆ°æŒ‡å®šå…ƒç´ åŒºåŸŸ

```js
const smoothScroll = element =>
  document.querySelector(element).scrollIntoView({
    behavior: 'smooth'
  });
  
smoothScroll('#fooBar');
smoothScroll('.fooBar');
```

## æ£€æµ‹ç§»åŠ¨/PCè®¾å¤‡

```js
const detectDeviceType = () =>
  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    ? 'Mobile'
    : 'Desktop';
```

## è¿”å›å½“å‰çš„æ»šåŠ¨ä½ç½®

é»˜è®¤å‚æ•°ä¸º`window` ï¼Œ`pageXOffset(pageYOffset)`ä¸ºç¬¬ä¸€é€‰æ‹©ï¼Œæ²¡æœ‰åˆ™ç”¨`scrollLeft(scrollTop)`

```js
const getScrollPosition = (el = window) => ({
  x: el.pageXOffset !== undefined ? el.pageXOffset : el.scrollLeft,
  y: el.pageYOffset !== undefined ? el.pageYOffset : el.scrollTop
});

getScrollPosition(); // {x: 0, y: 200}
```

## è½¬ä¹‰HTML

```js
const escapeHTML = str =>
  str.replace(
    /[&<>'"]/g,
    tag =>
      ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        "'": '&#39;',
        '"': '&quot;'
      }[tag] || tag)
  );

escapeHTML('<a href="#">Me & you</a>'); // '&lt;a href=&quot;#&quot;&gt;Me &amp; you&lt;/a&gt;'
```

## éšæœºåå…­è¿›åˆ¶é¢œè‰²

```js

const randomHexColorCode = () => {
  let n = (Math.random() * 0xfffff * 1000000).toString(16);
  return '#' + n.slice(0, 6);
};

randomHexColorCode(); // "#e34155"
```

```js
const RandomColor = () => "#" + Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, "0");
const color = RandomColor();
// color => "#f03665"
```

## é¦–å­—æ¯å°å†™

```js
const decapitalize = ([first, ...rest]) =>
  first.toLowerCase() + rest.join('')

decapitalize('FooBar'); // 'fooBar'
decapitalize('FooBar'); // 'fooBar'
```

## é¦–å­—æ¯å¤§å†™

```js
const capitalize = ([first, ...rest]) =>
  first.toUpperCase() + rest.join('');
  
capitalize('fooBar'); // 'FooBar'
capitalize('fooBar', true); // 'Foobar'
```

## æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™

```js
const capitalizeEveryWord = str => str.replace(/\b[a-z]/g, char => char.toUpperCase());

capitalizeEveryWord('hello world!'); // 'Hello World!'
```

## è¿”å›å­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦

```js
const byteSize = str => new Blob([str]).size;

byteSize('ğŸ˜€'); // 4
byteSize('Hello World'); // 11
```

## æ¨è¿Ÿå‡½æ•°çš„æ‰§è¡Œ

```js
const defer = (fn, ...args) => setTimeout(fn, 1, ...args);

defer(console.log, 'a'), console.log('b'); // logs 'b' then 'a'
```

## è¿‡æ»¤XSS

```js
function FilterXss(content) {
    let elem = document.createElement("div");
    elem.innerText = content;
    const result = elem.innerHTML;
    elem = null;
    return result;
}
```

## å­˜å–LocalStorage

> ååºåˆ—åŒ–å–ï¼Œåºåˆ—åŒ–å­˜

```js
const love = JSON.parse(localStorage.getItem("love"));
localStorage.setItem("love", JSON.stringify("I Love You"));
```

## æ ¼å¼åŒ–é‡‘é’±

```js
const ThousandNum = num => num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
const money = ThousandNum(20190214);
// money => "20,190,214"
```

## ç”ŸæˆéšæœºID

```js
const RandomId = len => Math.random().toString(36).substr(3, len);
const id = RandomId(10);
// id => "jg7zpgiqva"
```

## ç”Ÿæˆæ˜Ÿçº§è¯„åˆ†

```js
const StartScore = rate => "â˜…â˜…â˜…â˜…â˜…â˜†â˜†â˜†â˜†â˜†".slice(5 - rate, 10 - rate);
const start = StartScore(3);
// start => "â˜…â˜…â˜…"
```

## æ“ä½œURLæŸ¥è¯¢å‚æ•°

```js
const params = new URLSearchParams(location.search.replace(/\?/ig, "")); // location.search = "?name=young&sex=male"
params.has("young"); // true
params.get("sex"); // "male"
```

## æ˜¯å¦ä¸ºç©ºæ•°ç»„

```js
const arr = [];
const flag = Array.isArray(arr) && !arr.length;
// flag => true
```

## æ˜¯å¦ä¸ºç©ºå¯¹è±¡

```js
const obj = {};
const flag = DataType(obj, "object") && !Object.keys(obj).length;
// flag => true
```

## 

```js

```

## 

```js

```

## 

```js

```

## 

```js

```

## 

```js

```

**å‚è€ƒèµ„æ–™ï¼š**

* [30 seconds of code](https://github.com/30-seconds/30-seconds-of-code)
* [JavaScript å·¥å…·å‡½æ•°å¤§å…¨ï¼ˆæ–°ï¼‰](https://juejin.im/post/5da1a04ae51d45783d6122bf#heading-86)
* [çµæ´»è¿ç”¨JSå¼€å‘æŠ€å·§](https://juejin.im/post/5cc7afdde51d456e671c7e48#heading-61)
